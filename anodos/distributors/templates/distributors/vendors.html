{% extends "main.html" %}

{% block title %}Производители{% endblock %}

{% block content %}
<h2>Производители</h2>

<div class="ui grid"><div class="ui hidden divider"></div></div>

<div>
    <table class="ui celled table">
        <thead>
            <tr>
                <th>#</th>
                <th colspan="2">Как у поставщика</th>
                <th colspan="2">Как у нас</th>
            </tr>
        </thead>
        <tbody>
        {% for vendor_ in vendors_ %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ vendor_.distributor.name }} | {{ vendor_.name }}</td>
            <td>
                <button class="ui primary icon button"
                     data-tooltip="Как у поставщика"
                     data-do="do-vendor-as-is"
                     data-vendor_="{{ vendor_.id }}">
                    <i class="share icon"></i>
                </button>
                <button class="ui positive icon button"
                     data-tooltip="Выбрать из списка"
                     data-do="open-vendor-list"
                     data-vendor_="{{ vendor_.id }}">
                    <i class="list icon"></i>
                </button>
                <button class="ui negative icon button"
                     data-tooltip="Отвязать"
                     data-do="erase-vendor-link"
                     data-vendor_="{{ vendor_.id }}">
                    <i class="unlink icon"></i>
                </button>
            </td>
            <td id="{{ vendor_.id }}-to-pflops"
                data-vendor="{{ vendor_.to_pflops.id }}">
                {% if vendor_.to_pflops == None %}
                -
                {% else %}
                {{ vendor_.to_pflops }}
                {% endif %}
            </td>
            <td>
                <button class="ui icon button"
                     id="{{ vendor_.id }}-open-vendor-editor-button"
                     data-tooltip="Редактирвать"
                     data-do="open-vendor-editor"
                     data-vendor_="{{ vendor_.id }}"
                     data-vendor="{{ vendor_.to_pflops.id }}"
                     data-name="{{ vendor_.to_pflops.name }}">
                    <i class="edit icon"></i>
                </button>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>


{% include "distributors/modal/vendors.html" %}

{% endblock %}

{% block js %}
{% include "distributors/js/vendors.js" %}
{% endblock %}